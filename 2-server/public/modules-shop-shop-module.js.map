{"version":3,"sources":["./src/app/modules/shop/shop-routing.module.ts","./src/app/modules/shop/shop.module.ts","./src/app/modules/shop/shop-home/shop-home.component.ts","./src/app/modules/shop/shop-home/shop-home.component.html","./src/app/modules/shop/shop-home/shop-card/shop-card.component.ts","./src/app/modules/shop/shop-home/shop-card/shop-card.component.html"],"names":[],"mappings":"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","file":"modules-shop-shop-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ShopHomeComponent } from './shop-home/shop-home.component';\n\nconst routes: Routes = [\n  { path: '', component: ShopHomeComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ShopRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\nimport { ShopRoutingModule } from './shop-routing.module';\nimport { ShopHomeComponent } from './shop-home/shop-home.component';\nimport { ShopCardComponent } from './shop-home/shop-card/shop-card.component';\n\n\n@NgModule({\n  declarations: [ShopHomeComponent, ShopCardComponent],\n  imports: [\n    CommonModule,\n    ShopRoutingModule,\n    MatProgressSpinnerModule\n  ]\n})\nexport class ShopModule { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { ToastrService } from 'ngx-toastr';\nimport { ShopService } from '../../../service/shop.service';\nimport { CartService } from '../../../service/cart.service';\nimport { AuthService } from '../../../service/auth.service';\nimport { catchError } from '../../../helpers/catchError';\n\nimport { Book } from '../../models/Book';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-shop-home',\n  templateUrl: './shop-home.component.html',\n  styleUrls: ['./shop-home.component.css']\n})\nexport class ShopHomeComponent implements OnInit, OnDestroy {\n  books: Book[] = [];\n  signedIn: boolean;\n  isLoading = false;\n  subscription: Subscription;\n\n  constructor(\n    private shopService: ShopService,\n    private cartService: CartService,\n    private authService: AuthService,\n    private toastr: ToastrService\n  ) { }\n\n  ngOnInit(): void {\n    this.isLoading = true;\n    this.getAllBooks();\n    this.subscription = this.authService.signedIn$.subscribe(signedIn => {\n      this.signedIn = signedIn;\n    });\n  }\n\n  addToCart(id: number): void {\n    if (this.signedIn) {\n      this.cartService.addToCart(id);\n    } else {\n      this.toastr.info('Please login to add book into cart!')\n    }\n  }\n\n  private getAllBooks(): void {\n    this.shopService.getAllBooks().subscribe({\n      next: (respone) => {\n        this.books = respone.data;\n        this.isLoading = false;\n      },\n      error: (error: HttpErrorResponse) => {\n        catchError(this.toastr, this.isLoading);\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<div class=\"container\">\n  <h1 class=\"header\">Choose and buy a souvenir</h1>\n  <p class=\"subtitle\">\n    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ducimus ea\n    necessitatibus voluptas modi ipsam quisquam dicta, culpa fuga ipsa atque\n    sunt, vitae laborum iusto.\n  </p>\n  <div class=\"items\" *ngIf=\"books.length\">\n    <app-shop-card\n      *ngFor=\"let book of books\"\n      [book]=\"book\"\n      (onAddToCart)=\"addToCart(book.id)\"\n    ></app-shop-card>\n  </div>\n\n  <div *ngIf=\"!books.length && !isLoading\">\n    <h1 class=\"no-books\">The shop is currently empty</h1>\n  </div>\n  <div class=\"spinner\" *ngIf=\"isLoading\">\n    <mat-spinner [diameter]=\"50\"></mat-spinner>\n  </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Book } from '../../../models/Book';\n\n@Component({\n  selector: 'app-shop-card',\n  templateUrl: './shop-card.component.html',\n  styleUrls: ['./shop-card.component.css']\n})\nexport class ShopCardComponent implements OnInit {\n  @Input() book: Book;\n  @Output() onAddToCart: EventEmitter<void> = new EventEmitter();\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  addToCart(): void {\n    this.onAddToCart.emit();\n  }\n}\n","<div class=\"book-header\">\n  <h3 class=\"title\">{{ book.title }}</h3>\n</div>\n\n<div class=\"img-container\">\n  <img [src]=\"book.imageUrl\" />\n</div>\n<div class=\"book-footer\">\n  <p class=\"price\">{{ book.price }} $</p>\n  <button class=\"button button--cart\" (click)=\"addToCart()\">Add to Cart</button>\n</div>\n"],"sourceRoot":"webpack:///"}